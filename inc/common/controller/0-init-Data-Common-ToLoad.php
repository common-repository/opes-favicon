<?php

# Here you can include the 'model' and 'view' files - not other controllers! All controllers are loaded automatically.

class _OFWP_jvet__Init_Data_Common {

	public $adroid_chrome_densities = array(
		'36' => '0.75',
		'48' => '1.0',
		'72' => '1.5',
		'96' => '2.0',
		'144' => '3.0',
		'192' => '4.0'
	);

	public $sizesIco = array(
		'16' => array(
			16,
			16
		),
		'24' => array(
			24,
			24
		),
		'32' => array(
			32,
			32
		),
		'48' => array(
			48,
			48
		),/*
		'64' => array(
			64,
			64
		)*/
	);

	public $sizesPng = array(
		'favicon' => array(
			'16' => array(
				'width' => 16,
				'height' => 16
			),
			'32' => array(
				'width' => 32,
				'height' => 32
			),
			'96' => array(
				'width' => 96,
				'height' => 96
			),
			'160' => array(
				'width' => 160,
				'height' => 160
			),
			'192' => array(
				'width' => 192,
				'height' => 192
			)	
		),
		'android-chrome' => array(
			'192' => array(
				'width' => 192,
				'height' => 192
			),
			'144' => array(
				'width' => 144,
				'height' => 144
			),
			'96' => array(
				'width' => 96,
				'height' => 96
			),
			'72' => array(
				'width' => 72,
				'height' => 72
			),
			'48' => array(
				'width' => 48,
				'height' => 48
			),
			'36' => array(
				'width' => 36,
				'height' => 36
			)
		),
		'apple-touch-icon' => array(
/*
			'apple-touch-icon' => array(
				'width' => 180,
				'height' => 180,
			),
*/
			'57' => array(
				'width' => 57,
				'height' => 57
			),
			'60' => array(
				'width' => 60,
				'height' => 60
			),
			'72' => array(
				'width' => 72,
				'height' => 72
			),
			'76' => array(
				'width' => 76,
				'height' => 76
			),
			'114' => array(
				'width' => 114,
				'height' => 114
			),
			'120' => array(
				'width' => 120,
				'height' => 120
			)
			,
			'144' => array(
				'width' => 144,
				'height' => 144
			)
			,
			'152' => array(
				'width' => 152,
				'height' => 152
			)
			,
			'180' => array(
				'width' => 180,
				'height' => 180
			)
		),
		'apple-touch-icon-precomposed' => array(
			'apple-touch-icon-precomposed' => array(
				'width' => 180,
				'height' => 180
			)
		),
		'mstile' => array(
			'70' => array(
				'width' => 70,
				'height' => 70,
				/*
				'out-width' => 128,
				'out-height' => 128
				*/
			),
			'144' => array(
				'width' => 144,
				'height' => 144
			),
			'150' => array(
				'width' => 150,
				'height' => 150,
				/*
				'out-width' => 270,
				'out-height' => 270
				*/
			),
			'mstile-310x150' => array(
				'width' => 310,
				'height' => 150,
				/*
				'out-width' => 558,
				'out-height' => 270
				*/
			),
			'310' => array(
				'width' => 310,
				'height' => 310,
				/*
				'out-width' => 551,
				'out-height' => 551
				*/
			)
		),
	);

	public $sizesPng_Front = array(
		'apple-touch-icon-precomposed' => array(
			'apple-touch-icon-precomposed' => array(
				'width' => 180,
				'height' => 180
			)
		),
		'apple-touch-icon' => array(
			'57' => array(
				'width' => 57,
				'height' => 57
			),
			'114' => array(
				'width' => 114,
				'height' => 114
			),
			'72' => array(
				'width' => 72,
				'height' => 72
			),
			'144' => array(
				'width' => 144,
				'height' => 144
			),
			'60' => array(
				'width' => 60,
				'height' => 60
			),
			'120' => array(
				'width' => 120,
				'height' => 120
			),
			'76' => array(
				'width' => 76,
				'height' => 76
			),
			'152' => array(
				'width' => 152,
				'height' => 152
			),
			'180' => array(
				'width' => 180,
				'height' => 180
			)
		),
		'favicon' => array(
			'192' => array(
				'width' => 192,
				'height' => 192
			),
			'160' => array(
				'width' => 160,
				'height' => 160
			),
			'96' => array(
				'width' => 96,
				'height' => 96
			),
			'16' => array(
				'width' => 16,
				'height' => 16
			),
			'32' => array(
				'width' => 32,
				'height' => 32
			)
		),
		'android-chrome' => array(
			'192' => array(
				'width' => 192,
				'height' => 192
			),
			'144' => array(
				'width' => 144,
				'height' => 144
			),
			'96' => array(
				'width' => 96,
				'height' => 96
			),
			'72' => array(
				'width' => 72,
				'height' => 72
			),
			'48' => array(
				'width' => 48,
				'height' => 48
			),
			'36' => array(
				'width' => 36,
				'height' => 36
			)
		),
		'mstile' => array(
			'70' => array(
				'width' => 70,
				'height' => 70,
				/*
				'out-width' => 128,
				'out-height' => 128
				*/
			),
			'144' => array(
				'width' => 144,
				'height' => 144
			),
			'150' => array(
				'width' => 150,
				'height' => 150,
				/*
				'out-width' => 270,
				'out-height' => 270
				*/
			),
			'mstile-310x150' => array(
				'width' => 310,
				'height' => 150,
				/*
				'out-width' => 558,
				'out-height' => 270
				*/
			),
			'310' => array(
				'width' => 310,
				'height' => 310,
				/*
				'out-width' => 551,
				'out-height' => 551
				*/
			)
		),
	);

	private function __construct( $params ) {

	}

	public static function init( $params ) {
		return new _OFWP_jvet__Init_Data_Common( $params );
	}

	public function updatePluginInfoInDB() {
		$opes_favicon_version = get_option( 'opes_favicon_version' , false );
		$curr_version = (int)( preg_replace( '/[^0-9]/' , '' , __OFWP_jvet__THIS_PLUGIN__VERSION_ ) );
		$current_date = current_time( 'timestamp' );

		$in_db_version = -1;
		$in_db_install_date = false;
		if ( $opes_favicon_version && isset( $opes_favicon_version['version'] ) && isset( $opes_favicon_version['install_timestamp'] ) ) {

			$in_db_version = (int)$opes_favicon_version['version'];
			$in_db_install_date = $opes_favicon_version['install_timestamp'];
		};

		$opes_favicon_version_data = array(
			'version' => $curr_version,
			'install_timestamp' => $current_date
		);

		if ( !$in_db_install_date ) {
			update_option( 'opes_favicon_version' , $opes_favicon_version_data );
		} else if ( $in_db_version < $curr_version ) {
			update_option( 'opes_favicon_version' , $opes_favicon_version_data );
		};
	}
}

$GLOBALS['_OFWP_jvet__Init_Data_Common'] = _OFWP_jvet__Init_Data_Common::init( array() ); 
